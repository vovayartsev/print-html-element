!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.printHtmlElement=e():t.printHtmlElement=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e){"use strict";function o(){function t(t,e){var n=t.outerHTML;o(n,e)}function e(t,e){o(t,e)}function o(t,e){e=e||{},e={printMode:e.printMode||"",pageTitle:e.pageTitle||"",templateString:e.templateString||"",popupProperties:e.popupProperties||"",stylesheets:e.stylesheets||null,styles:e.styles||null,debug:e.debug||!1},e.debug&&(e.printMode="popup");var o,r,s,p,u=i(t,e);"popup"===e.printMode.toLowerCase()?(o=window.open("about:blank","printElementWindow",e.popupProperties),s=o.document):(p="printElement_"+Math.round(99999*Math.random()).toString(),r=document.createElement("iframe"),r.setAttribute("id",p),r.setAttribute("src","about:blank"),r.setAttribute("frameBorder","0"),r.setAttribute("scrolling","no"),r.setAttribute("style","position:fixed;bottom:100%;right:100%;"),document.body.appendChild(r),s=r.contentWindow||r.contentDocument,s.document&&(s=s.document),r=document.frames?document.frames[p]:document.getElementById(p),o=r.contentWindow||r),focus(),s.open(),setTimeout(function(){s.write(u),s.close()}),n(o,r)}function n(t,e){t&&t.printPage?(t.printPage(),e&&document.body.removeChild(e)):setTimeout(function(){n(t,e)},50)}function r(){var t=window.location.port?":"+window.location.port:"";return window.location.protocol+"//"+window.location.hostname+t+window.location.pathname}function i(t,e){var o,n,i=e.templateString,s=new RegExp(/{{\s*printBody\s*}}/gi),p=[];return i&&s.test(i)&&(t=i.replace(s,t)),p.push("<html><head><title>"+(e.pageTitle||"")+"</title>"),o=e.stylesheets?Array.isArray(e.stylesheets)?e.stylesheets:[e.stylesheets]:Array.prototype.slice.call(document.getElementsByTagName("link")).map(function(t){return t.href}),o.forEach(function(t){p.push('<link rel="stylesheet" href="'+t+'">')}),n=e.styles?Array.isArray(e.styles)?e.styles:[e.styles]:Array.prototype.slice.call(document.getElementsByTagName("style")).map(function(t){return t.innerHTML}),n.forEach(function(t){p.push('<style type="text/css">'+t+"</style>")}),p.push('<base href="'+r()+'" />'),p.push('</head><body class="pe-body">'),p.push(t),p.push('<script type="text/javascript">function printPage(){focus();'+(e.debug?"":"print();")+("popup"!=e.printMode.toLowerCase()||e.debug?"":"close();")+"}</script>"),p.push("</body></html>"),p.join("")}return{printElement:t,printHtml:e}}t.exports=o()}])});